<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Latest Posts &#8211; Hardcore trial & error</title>
<meta name="description" content="hardcore trial & error">
<meta name="keywords" content="Jekyll, theme, themes, responsive, blog, modern">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="/images/20110925-114605.jpg">

<meta name="twitter:title" content="Latest Posts">
<meta name="twitter:description" content="hardcore trial & error">
<meta name="twitter:creator" content="@jestersimpps">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Latest Posts">
<meta property="og:description" content="hardcore trial & error">
<meta property="og:url" content="/">
<meta property="og:site_name" content="Hardcore trial & error">





<link rel="canonical" href="/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Hardcore trial & error Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="post-index" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="/">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="/images/bio-photo.png" alt="Jester Simpps photo" class="author-photo">
					<h4>Jester Simpps</h4>
					<p></p>
				</li>
				<li><a href="/about/"><span class="btn btn-inverse">Learn More</span></a></li>
				<li>
					<a href="mailto:jestersimpps@gmail.com"><i class="fa fa-fw fa-envelope"></i> Email</a>
				</li>
				<li>
					<a href="http://twitter.com/jestersimpps"><i class="fa fa-fw fa-twitter"></i> Twitter</a>
				</li>
				
				
				<li>
					<a href="http://linkedin.com/in/jo-vinkenroye/63/a79/459"><i class="fa fa-fw fa-linkedin"></i> LinkedIn</a>
				</li>
				<li>
					<a href="http://github.com/jestersimpps"><i class="fa fa-fw fa-github"></i> GitHub</a>
				</li>
				
				<li>
					<a href="http://instagram.com/jestersimpps"><i class="fa fa-fw fa-instagram"></i> Instagram</a>
				</li>
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Posts</a>
			<ul class="dl-submenu">
				<li><a href="/posts/">All Posts</a></li>
				<li><a href="/tags/">All Tags</a></li>
			</ul>
		</li>
		
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->


<div class="entry-header">
  <div class="image-credit">Image source: <a href="http://fogsmoviereviews.com">fogsmoviereviews.com</a></div><!-- /.image-credit -->
  
    <div class="entry-image">
      <img src="/images/20110925-114605.jpg" alt="Latest Posts">
    </div><!-- /.entry-image -->
  
  <div class="header-title">
    <div class="header-title-wrap">
      <h1>Hardcore trial & error</h1>
      <h2>Latest Posts</h2>
    </div><!-- /.header-title-wrap -->
  </div><!-- /.header-title -->
</div><!-- /.entry-header -->

<div id="main" role="main">
  
<article class="hentry">
  <header>
    
      <div class="entry-image-index">
        <a href="/decentralized-microservices-with-ipfs/" title="Decentralized Microservices With IPFS"><img src="/images/ipfs.jpg" alt="Decentralized Microservices With IPFS"></a>
      </div><!-- /.entry-image -->
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2017-10-07T09:02:47-04:00"><a href="/decentralized-microservices-with-ipfs/">October 07, 2017</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Jester Simpps">Jester Simpps</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~9 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/decentralized-microservices-with-ipfs/" rel="bookmark" title="Decentralized Microservices With IPFS" itemprop="url">Decentralized Microservices With IPFS</a></h1>
    
  </header>
  <div class="entry-content">
    <h1 id="what-is-ipfs">What is IPFS?</h1>

<p>IPFS (the InterPlanetary File System) is a distributed file system that seeks to connect all computing devices with the same system of files. In some ways, this is similar to the original aims of the Web, but IPFS is actually more similar to a single bittorrent swarm exchanging git objects. (You can read more about its origins in the paper <a href="https://github.com/ipfs/ipfs/blob/master/papers/ipfs-cap2pfs/ipfs-p2p-file-system.pdf?raw=true">IPFS - Content Addressed, Versioned, P2P File System.</a> )</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/8CMxDNuuAiQ" frameborder="0" allowfullscreen=""></iframe>

<h1 id="what-are-microservices">What are microservices?</h1>

<p>Microservices - also known as the microservice architecture - is an architectural style that structures an application as a collection of loosely coupled services, which implement business capabilities. The microservice architecture enables the continuous delivery/deployment of large, complex applications. It also enables an organization to evolve its technology stack.</p>

<p><img src="https://ipfs.io/ipfs/QmaCjhDr2378r9iPqEjUu4vXavmRK3JEtf5nKUxSrXpQBc" alt="ipfs2" /></p>

<h1 id="what-makes-the-combination-of-ipfs-and-microservices-interesting">What makes the combination of IPFS and microservices interesting?</h1>

<p>The nice thing about IPFS is it’s immutable storage. IPFS works like a github repository. Just like commit hashes, IPFS hashes will always point to the same immutable files. This makes IPFS an interesting platform to develop microservices. Similar to dependency versioning in npm (node packaging manager), you know for sure that the code at a certain hash will always do the same thing. Secondly, these services are not hosted by a single source (centralized), but are hosted worldwide on several locations (distributed), which makes them more robust. They will remain available at all times.</p>

<p><img src="https://ipfs.io/ipfs/QmZpfhN5rucQC4kx7Gu5udS8FXxsxMddiDCvG8WFjG8SMv" alt="ipfs1" /></p>

<h1 id="storing-files-on-ipfs">Storing files on IPFS</h1>

<p>Before creating an IPFS microservice, let’s store a simple website on IPFS. You probably haven’t noticed, but the image above was actually uploaded to the IPFS and downloaded using
an IPFS gateway: <a href="https://ipfs.io/ipfs/">https://ipfs.io/ipfs/</a>.
This gateway allows you to load decentralized files stored on IPFS in your web browser , which is pretty cool and opens up amazing possibilities regarding web apps.</p>

<h3 id="uploading-a-static-website-to-ipfs--ipns">Uploading a static website to IPFS / IPNS.</h3>
<p>(<em>To follow this tutorial, please <a href="https://ipfs.io/docs/install/">install</a> IPFS first.</em>)</p>

<p>Besides simple files, you can also store entire directories to IPFS.</p>

<p><code>$ ipfs add -r .</code></p>

<p>So, I uploaded a simple static website I created a while ago onto IPFS and it can be accessed using the directory hash <code>QmUyif9MLjMzpFeXvjLJiatCKsQJhykV1oZH7GPuXRcJjo</code> like so:</p>

<p><a href="https://ipfs.io/ipfs/QmUyif9MLjMzpFeXvjLJiatCKsQJhykV1oZH7GPuXRcJjo/en/">https://ipfs.io/ipfs/QmUyif9MLjMzpFeXvjLJiatCKsQJhykV1oZH7GPuXRcJjo/en/</a></p>

<p>Now I have a simple static site hosted on IPFS. The problem is, however, when I update my site, the hash will change, and any links I have shared will continue pointing to the old version.</p>

<p>That’s where IPNS comes in. It allows you to store a reference to an IPFS hash under the namespace of your IPNS hash or peerID.</p>

<p><code>$ ipfs name publish QmUyif9MLjMzpFeXvjLJiatCKsQJhykV1oZH7GPuXRcJjo</code></p>

<p>That will return your peerID and the hash you are publishing to it. A few seconds later my terminal spits back the following IPNS hash:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span>Published to QmaJLU8Jb2NmpHsgCGu3EqawjqFB23FfXHvt3kWted1PdQ:/ipfs/QmUyif9MLjMzpFeXvjLJiatCKsQJhykV1oZH7GPuXRcJjo</code></pre></figure>

<p>My website is now accessible through:</p>

<p><a href="https://ipfs.io/ipns/QmaJLU8Jb2NmpHsgCGu3EqawjqFB23FfXHvt3kWted1PdQ/en/">https://ipfs.io/ipns/QmaJLU8Jb2NmpHsgCGu3EqawjqFB23FfXHvt3kWted1PdQ/en/</a></p>

<p>Notice the <code>ipns</code> in the url, instead of <code>ipfs</code>. Every time I update my website, IPNS will make sure anyone accessing the IPNS will get the hash of my latest site.</p>

<h1 id="creating-an-ipfs-microservice">Creating an IPFS Microservice</h1>
<h3 id="ipfs-and-decentralized-services">IPFS and decentralized services</h3>

<p>If we can upload websites, we can add javascript code to those websites that looks at the url and extracts additional IPFS hashes. Those can be used to access other files saved on IPFS. This allows us to create services or applications on IPFS that accept other IPFS files as inputs and do something with those.</p>

<p>A nice example of such a service is <a href="https://ipfs.io/ipfs/QmVc6zuAneKJzicnJpfrqCH9gSy6bz54JhcypfJYhGUFQu/play#/ipfs/QmTKZgRNwDNZwHtJSjCp6r5FYefzpULfy37JvMt9DwvXse">this IPFS video</a> player.</p>

<p><code>https://ipfs.io/ipfs/QmVc6zuAneKJzicnJpfrqCH9gSy6bz54JhcypfJYhGUFQu/play#/ipfs/QmTKZgRNwDNZwHtJSjCp6r5FYefzpULfy37JvMt9DwvXse</code></p>

<p>The entire code of the video player can be found <a href="https://ipfs.io/ipfs/QmVc6zuAneKJzicnJpfrqCH9gSy6bz54JhcypfJYhGUFQu">here</a>.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="kd">var</span> <span class="nx">tf</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#input&#39;</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">hash</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">hash</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">render</span><span class="p">(</span><span class="nx">type</span><span class="p">,</span> <span class="nx">path</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">video</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;&lt;video&gt;&#39;</span><span class="p">)</span>

  <span class="nx">video</span>
    <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;videoid&quot;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="s2">&quot;100%&quot;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;height&quot;</span><span class="p">,</span> <span class="s2">&quot;100%&quot;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;controls&quot;</span><span class="p">,</span> <span class="s2">&quot;controls&quot;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;poster&quot;</span><span class="p">,</span> <span class="nx">path</span> <span class="o">+</span> <span class="s2">&quot;/poster.jpg&quot;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;preload&quot;</span><span class="p">,</span> <span class="s2">&quot;auto&quot;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;data-setup&#39;</span><span class="p">,</span> <span class="s1">&#39;{&quot;example_option&quot;:true}&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;video-js vjs-default-skin vjs-big-play-centered&#39;</span><span class="p">)</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">type</span> <span class="o">==</span> <span class="s2">&quot;file&quot;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;&lt;source&gt;&quot;</span><span class="p">)</span>
      <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;src&quot;</span><span class="p">,</span> <span class="nx">path</span><span class="p">)</span>
      <span class="p">.</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">video</span><span class="p">)</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">formats</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;mp4&#39;</span><span class="p">,</span> <span class="s1">&#39;webm&#39;</span><span class="p">,</span> <span class="s1">&#39;ogv&#39;</span><span class="p">]</span>
    <span class="nx">formats</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">fmt</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;&lt;source&gt;&quot;</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="s2">&quot;video/&quot;</span> <span class="o">+</span> <span class="nx">fmt</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;src&quot;</span><span class="p">,</span> <span class="nx">path</span> <span class="o">+</span> <span class="s2">&quot;/video.&quot;</span> <span class="o">+</span> <span class="nx">fmt</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">video</span><span class="p">)</span>
    <span class="p">})</span>
  <span class="p">}</span>

  <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;div#video-div&quot;</span><span class="p">).</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="c1">// clear it</span>
  <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;div#video-div&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">video</span><span class="p">)</span>

  <span class="nx">videojs</span><span class="p">(</span><span class="s2">&quot;videoid&quot;</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span>
  <span class="p">});</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">last</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="kd">function</span> <span class="nx">update</span><span class="p">(</span><span class="nx">path</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">last</span> <span class="o">==</span> <span class="nx">path</span><span class="p">)</span>
    <span class="k">return</span>
  <span class="nx">last</span> <span class="o">=</span> <span class="nx">path</span>

  <span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">path</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">render</span><span class="p">(</span><span class="s2">&quot;dir&quot;</span><span class="p">,</span> <span class="nx">path</span><span class="p">)</span>
  <span class="p">}).</span><span class="nx">fail</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">render</span><span class="p">(</span><span class="s2">&quot;file&quot;</span><span class="p">,</span> <span class="nx">path</span><span class="p">)</span>
  <span class="p">})</span>

  <span class="nx">tf</span><span class="p">.</span><span class="nx">val</span><span class="p">(</span><span class="nx">path</span><span class="p">)</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">hash</span> <span class="o">=</span> <span class="s2">&quot;#&quot;</span> <span class="o">+</span> <span class="nx">path</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;updated to: &quot;</span> <span class="o">+</span> <span class="nx">path</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">isFile</span><span class="p">(</span><span class="nx">path</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">path</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">).</span><span class="nx">pop</span><span class="p">().</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">).</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">(</span><span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">tf</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s1">&#39;keyup keypress blur change cut copy paste&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">update</span><span class="p">(</span><span class="nx">tf</span><span class="p">.</span><span class="nx">val</span><span class="p">())</span>
  <span class="p">})</span>

  <span class="nx">tf</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s1">&#39;hashchange&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">update</span><span class="p">(</span><span class="nx">hash</span><span class="p">())</span>
  <span class="p">})</span>

  <span class="kd">var</span> <span class="nx">text</span> <span class="o">=</span> <span class="nx">hash</span><span class="p">()</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">text</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span>
    <span class="nx">text</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
  <span class="nx">update</span><span class="p">(</span><span class="nx">text</span><span class="p">)</span>
<span class="p">})()</span></code></pre></figure>

<p>If we take a look at the code, we can see that</p>

<p><code>window.location.hash.substring(1)</code></p>

<p>extracts the following string from the url: <code>/ipfs/QmTKZgRNwDNZwHtJSjCp6r5FYefzpULfy37JvMt9DwvXse</code></p>

<p>This hash is then used to fetch the <a href="https://ipfs.io/ipfs/QmTKZgRNwDNZwHtJSjCp6r5FYefzpULfy37JvMt9DwvXse">input file</a> for the video. If we would create another video file, add it to IPFS and the new hash to the video player url, the video player will act as a service to play that other file.</p>

<h3 id="lets-build-a-simple-text-to-speech-app">Let’s build a simple text to speech app</h3>

<p>The following code is a simple webapp that reads out the url and speaks the text defined in the <code>say</code> query parameter.</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&quot;en&quot;</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&quot;utf-8&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&quot;X-UA-Compatible&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;IE=edge&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;width=device-width, initial-scale=1&quot;</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>text to speech render<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;lib/jquery.min.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h1</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;text&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
        <span class="kd">function</span> <span class="nx">speak</span><span class="p">(</span><span class="nx">text</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">msg</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SpeechSynthesisUtterance</span><span class="p">();</span>
            <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#text&#39;</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">text</span><span class="p">);</span>
            <span class="nx">msg</span><span class="p">.</span><span class="nx">text</span> <span class="o">=</span> <span class="nx">text</span><span class="p">;</span>
            <span class="nx">speechSynthesis</span><span class="p">.</span><span class="nx">speak</span><span class="p">(</span><span class="nx">msg</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="p">(</span><span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;speechSynthesis&#39;</span> <span class="k">in</span> <span class="nb">window</span><span class="p">)</span> <span class="p">{</span>
                    <span class="kd">var</span> <span class="nx">text</span> <span class="o">=</span> <span class="nb">decodeURIComponent</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">search</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;say=&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]);</span>
                    <span class="nx">speak</span><span class="p">(</span><span class="nx">text</span><span class="p">);</span>
                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                    <span class="nb">window</span><span class="p">.</span><span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;no text to speech browser support.&#39;</span><span class="p">)</span>
                <span class="p">}</span>
            <span class="p">});</span>
        <span class="p">})()</span>
    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>

<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span></code></pre></figure>

<p>It was uploaded to IPFS and can be accessed using the following link:</p>

<p><a href="https://ipfs.io/ipfs/QmPdWu3ko1qAwKJe83itC2UuAzRoKjnpQy8a1p4YYJDECr/?say=hello%20world">https://ipfs.io/ipfs/QmPdWu3ko1qAwKJe83itC2UuAzRoKjnpQy8a1p4YYJDECr/?say=hello%20world</a></p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <div class="entry-image-index">
        <a href="/setting-up-a-private-npm-registry-with-sinopia/" title="Setting Up a Private Npm Registry With Sinopia"><img src="/images/sinopia.png" alt="Setting Up a Private Npm Registry With Sinopia"></a>
      </div><!-- /.entry-image -->
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2016-12-05T06:24:06-05:00"><a href="/setting-up-a-private-npm-registry-with-sinopia/">December 05, 2016</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Jester Simpps">Jester Simpps</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~2 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/setting-up-a-private-npm-registry-with-sinopia/" rel="bookmark" title="Setting Up a Private Npm Registry With Sinopia" itemprop="url">Setting Up a Private Npm Registry With Sinopia</a></h1>
    
  </header>
  <div class="entry-content">
    <p>When you have several front end projects going in the same company, and you are using a component based framework like Angular 2, it is important that you can reuse those components over all projects. It is possible to pay npm for private repositories, or to make use of npm link, but in this post, I will:</p>

<ul>
  <li>Implement a private npm registry using <a href="https://github.com/rlidwka/sinopia">Sinopia</a>.</li>
  <li>Create a dummy Angular 2 module.</li>
  <li>Publish the module to my private npm registry</li>
  <li>Access the module from secondary application.</li>
</ul>

<h3 id="installing-sinopia">Installing Sinopia</h3>

<p>Do a global install of the package:</p>

<pre><code>npm install -g sinopia
</code></pre>

<p>Set your npm registry to your local Sinopia:</p>

<pre><code>npm set registry http://localhost:4873/
# if you wish to set it back to the default npmjs:
npm set registry https://registry.npmjs.org/
</code></pre>

<p>Run Sinopia using:</p>

<pre><code>sinopia
</code></pre>

<p>If everything works well, you should see that Sinopia automatically generated a config file and is now running at <code>http://localhost:4873/</code>.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span>warn  --- config file  - /Users/jestersimpps/.config/sinopia/config.yaml
warn  --- http address - http://localhost:4873/</code></pre></figure>

<p>The Default configuration will allow all users to do anything. I’m going to leave this for now as I want to focus more on publishing and installing my own packages instead. If you are interested in setting up your own configuration file, you can find a full config file <a href="https://github.com/rlidwka/sinopia/blob/master/conf/full.yaml">here</a>.</p>

<h3 id="creating-a-packaged-angular-2-module">Creating a packaged Angular 2 module</h3>

<p>We will create an angular module from the ground up. Cd into the folder (<code>./dummy</code> in my case) you wish to use for your module and generate a <code>package.json</code> file by typing:</p>

<pre><code>mkdir dummy
cd dummy
npm init
</code></pre>

<p>This will ask you some questions about the library you wish to create, but don’t worry about those, you can just skip through them. Next, we have to include Angular 2 as a dependency, so we will do:</p>

<pre><code>npm i --save @angular/core
</code></pre>

<p>The <code>--save</code> command will add the installed dependency to the previously creatde <code>package.json</code> file.</p>

<p>Once Angular2 is installed, we will create a <code>.ts</code> source file at the root of our library with the name of our library:</p>

<pre><code>dummy.ts
</code></pre>
<p>This will be the name we will use later on when we will import our library from a secondary application:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span></span><span class="kr">import</span> <span class="p">{</span><span class="nx">dummy</span><span class="p">}</span> <span class="nx">from</span> <span class="s2">&quot;dummy/dummy&quot;</span><span class="p">;</span></code></pre></figure>

<p>This main file in the root will be used to export all of the files we will create next that make our module work.</p>

<p>to be continued…
<!-- https://github.com/rlidwka/sinopia
https://medium.com/@OCombe/how-to-publish-a-library-for-angular-2-on-npm-5f48cdabf435#.zed9c9ru3
https://blog.dylants.com/2014/05/10/creating-a-private-npm-registry-with-sinopia/
http://stackoverflow.com/questions/22385092/npm-config-set-registry-https-registry-npmjs-org-is-not-working-in-windows --></p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <div class="entry-image-index">
        <a href="/a-cool-idea-for-scrolling-throough-posts/" title="A Post History Scroller"><img src="/images/historyscroll.jpg" alt="A Post History Scroller"></a>
      </div><!-- /.entry-image -->
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2016-11-09T18:05:30-05:00"><a href="/a-cool-idea-for-scrolling-throough-posts/">November 09, 2016</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Jester Simpps">Jester Simpps</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/a-cool-idea-for-scrolling-throough-posts/" rel="bookmark" title="A Post History Scroller" itemprop="url">A Post History Scroller</a></h1>
    
  </header>
  <div class="entry-content">
    <p>Quite a few months ago I was working on a personal project called : <a href="http://mailwall.me">mailwall.me</a>.
The idea was a platform where you can share what you think someone will like using their mailwall.me address.
As most people in the world have email, but not necessary a fb,twitter,whatsapp,etc. account, people can email media to
people with a mailwall.me account.  The message would get parsed, media extracted and displayed in the proper way on the platform.
You could tie it up with <a href="http://www.ifttt.com">IFTTT</a> to mail you on social media events and it would automatically categorize everything
accordingly. This history posts scroller is an artifact of this project. I was looking for a new way to create a historical overview of the messages.</p>

<p><img src="https://github.com/jestersimpps/angular-history-scroll/raw/master/fYtRROmnmn.gif" alt="angular-history-scroller" /></p>

<p>The <a href="https://github.com/jestersimpps/angular-history-scroll">code</a> is a work in progress and haven’t tested it anymore.
I was going to make a generic version of it, but didn’t find the time.</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <div class="entry-image-index">
        <a href="/getting-started-with-microservices-and-go/" title="Getting Started With Microservices and Go"><img src="/images/appenginegophercolor.jpg" alt="Getting Started With Microservices and Go"></a>
      </div><!-- /.entry-image -->
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2016-11-07T15:31:19-05:00"><a href="/getting-started-with-microservices-and-go/">November 07, 2016</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Jester Simpps">Jester Simpps</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/getting-started-with-microservices-and-go/" rel="bookmark" title="Getting Started With Microservices and Go" itemprop="url">Getting Started With Microservices and Go</a></h1>
    
  </header>
  <div class="entry-content">
    <p>Traditionally applications have been built as monoliths; single applications which become larger and more complex over time, which limit our ability to react to change. Go is expressive, concise, clean, and efficient. Its concurrency mechanisms make it easy to write programs that get the most out of multicore and networked machines, while its novel type system enables flexible and modular program construction. Go compiles quickly to machine code yet has the convenience of garbage collection and the power of run-time reflection. It’s a fast, statically typed, compiled language that feels like a dynamically typed, interpreted language.</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/dVnMLtdJzn4" frameborder="0" allowfullscreen=""></iframe>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <div class="entry-image-index">
        <a href="/from-gulp-to-webpack/" title="From Gulp to Webpack"><img src="/images/gg-vs-webpack.png" alt="From Gulp to Webpack"></a>
      </div><!-- /.entry-image -->
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2016-08-21T14:32:14-04:00"><a href="/from-gulp-to-webpack/">August 21, 2016</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Jester Simpps">Jester Simpps</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~7 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/from-gulp-to-webpack/" rel="bookmark" title="From Gulp to Webpack" itemprop="url">From Gulp to Webpack</a></h1>
    
  </header>
  <div class="entry-content">
    <p>I recently started working on a big Angular 2 webapp. The company I joined has been working on this project since Oktober 2015.
It is one of the first companies in Belgium that jumps on the ng2 bandwagon and it has been a joy and challenge to learn and work with this framework every day.</p>

<p>Because gulp experience was already in house, the team has implemented a gulp build coupled with SystemJs. These days ( August 2016 ),
partly popularized by React, <a href="https://webpack.github.io/">Webpack</a> has become a ‘thing’. My colleagues at the company have been following the trend and have decided to switch to <a href="https://webpack.github.io/">Webpack</a> for their next project.
Secretly, there’s a common desire to implement it in the current project as well, but… there is this tight deadline, so…</p>

<p>…I decided to give it a shot myself and tried to hack something together this Saturday and see how far I would get. To be honest, I didn’t know what to expect myself.
I’ve heard all the buzz but haven’t actually given Webpack any time as I have been working relentlessly on my own startup <a href="http://www.krackzee.com/search?sortby=distance&amp;order=&amp;radius=50&amp;classes=11th%20Commerce&amp;locality=Sector%2025&amp;city=Pune#">krackzee</a> over the past 8 months, which is a php Laravel project. So I have been ‘out’ of the front-end world for quite some time. To all non-javascript developers; 8 months in the javascript realm is like a decade in your language. (
<a href="https://www.allenpike.com/2015/javascript-framework-fatigue/"> Read: A JS framework on every table by Allen Pike </a>)</p>

<p><img src="https://www.allenpike.com/images/2015/cube-drone-angular.jpg" alt="javascript fatigue" /></p>

<h2 id="webpack">Webpack</h2>

<h3 id="first-impressions">First impressions</h3>

<p>The installation has a lot of simalarity to installing grunt or gulp. You pull in some repositories, make sure you save them as devDependencies in your package.json and create some config files to configure your build process. Here’s the interesting part though; It’s almost like a plug and play build process tool. Forget about writing those <a href="http://jestersimpps.github.io/experimenting-with-google-spreadsheets-assemble-io-and-internationalisation/">insane</a>, customized grunt and gulp scripts. Here’s a tool that just works out of the box with minimal configuration. And it works well!</p>

<h3 id="getting-started">Getting started</h3>

<p>The <a href="https://angular.io/docs/ts/latest/guide/webpack.html">Angular 2</a> team has done a pretty good job explaining Webpack on their website. It has also become their build tool of choice. I started by basically going through their guide and adapting their implementation in a seperate branch to our current project. Don’t do this! I made this mistake and I might have learned a bit more about what the Webpack config files do, but it will fail miserably unless you have implemented webpack before and you know how everything works together. My suggestion is to start a different repo alltogether with a clean version of one of the <a href="https://github.com/search?utf8=%E2%9C%93&amp;q=angular+2+webpack+starter&amp;type=Repositories&amp;ref=searchresults">Angular 2 webpack starters</a> out there. Just browse <a href="http://github.com">Github</a> a bit, there’s plenty of them.</p>

<p>I chose for the <a href="https://github.com/AngularClass/angular2-webpack-starter">angular2-webpack-starter</a> from <a href="https://angularclass.com/">AngularClass</a></p>

<h3 id="clone-your-favorite-starter">Clone your favorite starter</h3>

<p>Start by cloning your favorite Webpack starter repo somewhere on your hard drive.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span>git clone https://github.com/AngularClass/angular2-webpack-starter.git
<span class="nb">cd</span> angular2-webpack-starter
npm i</code></pre></figure>

<p>If you choose to use the same starter as me, make sure you have Node version &gt;= 5.0 and NPM &gt;= 3 as mentioned in their readme.</p>

<h3 id="move-your-code">Move your code</h3>

<p>After having a local version of the starter, I removed all of their awesomely, perfected, genius code from the <code>src/app</code> folder and copied in our own.
Remove the git directory if you haven’t yet, and set up your own repo. Maybe make a first commit and push.
From this moment onward there’s a lot of nitty gritty changes to the Webpack configuration, but basically you are almost done!</p>

<h3 id="reconfigure-webpack">Reconfigure Webpack</h3>

<h4 id="folders-and-files">Folders and files</h4>

<p>Depending on how you have set up your Angular 2 application you will have a different <code>main.ts</code> file.(assuming you are coding Typescript, I’ll just ignore anyone who isn’t)
The <code>main.ts</code> file is that file that holds your main app component (everything starts from there, your JS app big bang). Webpack best practice commands you to split it up into 3 files:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span></span><span class="nx">entry</span><span class="o">:</span> <span class="p">{</span>

  <span class="s1">&#39;polyfills&#39;</span><span class="o">:</span> <span class="s1">&#39;./src/polyfills.browser.ts&#39;</span><span class="p">,</span>
  <span class="s1">&#39;vendor&#39;</span><span class="o">:</span> <span class="s1">&#39;./src/vendor.browser.ts&#39;</span><span class="p">,</span>
  <span class="s1">&#39;main&#39;</span><span class="o">:</span> <span class="s1">&#39;./src/main.browser.ts&#39;</span>

<span class="p">},</span></code></pre></figure>

<p>It’s pretty obvious but, define your polyfill imports in the <code>src/polyfills.browser.ts</code> file, your vendor modules in the <code>src/vendor.browser.ts</code> file and bootstrap your app in the <code>src/main.browser.ts</code> file. I just left the polyfill file alone because it was mostly the same of what we already had. Then, in the <code>config/webpack.common.js</code> file, set your entry points as depicted above. In the platform folder, define your environment &amp; provider settings if you have them.</p>

<p>Remove all script tags in your <code>index.html</code> file that point to any application code. These will get injected by a Webpack plugin called <a href="https://github.com/ampedandwired/html-webpack-plugin">HtmlWebpackPlugin</a>. Compare the index files of the starter with your own and basically resolve any merge conflicts :)</p>

<p>Set your own constants in the <code>config/webpack.common.js</code>:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span></span><span class="kr">const</span> <span class="nx">METADATA</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Yourapp&#39;</span><span class="p">,</span>
  <span class="nx">baseUrl</span><span class="o">:</span> <span class="s1">&#39;/&#39;</span><span class="p">,</span>
  <span class="nx">isDevServer</span><span class="o">:</span> <span class="nx">helpers</span><span class="p">.</span><span class="nx">isWebpackDevServer</span><span class="p">()</span>
<span class="p">};</span></code></pre></figure>

<p>If you work at a special company and have a designated designer that takes care of the scss for you, there’s a chance you might have to set up some build configuration using the <a href="http://webpack.github.io/docs/stylesheets.html#separate-css-bundle">ExtractTextPlugin</a> that enables you to use an import to define the to-be-converted scss files. (I will not cover this as we are currently moving our styling into a separate repo)</p>

<h4 id="environment-config">Environment config</h4>

<p>Depending on your environment configuration you will have to make changes to the <code>config/webpack.dev.js</code>,<code>config/webpack.prod.js</code>,<code>config/webpack.test.js</code> files.
We previously set the environment in a json during the gulp build. In the new Webpack configuration, I am using a constant I set in the ‘DefinePlugin’ that is then used in my code to determine the Api endpoint and such.</p>

<h4 id="testing-config">Testing config</h4>

<p>If you were already using Karma and Jasmine, just compare the starter’s <code>config/karma.conf.js</code> file with your own. Make changes to the already existing file - if any.
Make sure you have a <code>karma.conf.js</code> pointing to the file in the config folder.</p>

<h4 id="troubleshooting">Troubleshooting</h4>

<p>After all this, cross your fingers and run the Webpack dev server using <code>npm start</code>.
In my case there were issues because we are using html template files for our components and have referenced them to our app root directory.</p>

<p>Refer the HTML template files in relation to the current typescript file:</p>

<pre><code>@Component({
    selector: `component1`,
    templateUrl: './component1.component.tmpl.html'
})
</code></pre>
<p>instead of:</p>

<pre><code>@Component({
    selector: `component1`,
    templateUrl: 'app/../blablablabla/../component1.component.tmpl.html'
})
</code></pre>

<h3 id="conclusion">Conclusion</h3>

<h4 id="in-memory-live-reloading">In memory live reloading</h4>

<p>Make the move asap, it won’t take too much of your time! Especially if your grunt/gulp build process is currently not sporting any in memory live reloading. The time you save with this feature alone easily makes up for the time invested in figuring out implementing Webpack.</p>

<h4 id="lazy-loading-modules">Lazy loading modules</h4>

<p>Also, Webpack will pack your modules so that they will be lazy loaded (async) in your application. Often you don’t need all of the dependencies at runtime. Lazy loading will boost your application significantly. Read more about it <a href="http://survivejs.com/webpack/advanced-techniques/understanding-chunks/#lazy-loading-with-webpack">here</a>.</p>

<p>Anyways, you won’t be disappointed. Webpack is magic ;)</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->


<div class="pagination">
  
    Previous
  
  <ul class="inline-list">
    <li>
      
        <span class="current-page">1</span>
      
    </li>
    
      <li>
        
          <a href="/page2">2</a>
        
      </li>
    
      <li>
        
          <a href="/page3">3</a>
        
      </li>
    
  </ul>
  
    <a href="/page2" class="btn">Next</a>
  
</div><!-- /.pagination -->

</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2017 Jester Simpps. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="https://mademistakes.com/work/hpstr-jekyll-theme/" rel="nofollow">HPSTR Theme</a>.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>


<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-67531656-1', 'auto');  
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
</script>


          

</body>
</html>